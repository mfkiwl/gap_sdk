.. 
   Input file: fe/ips/udma/udma_filter/docs/FILTER_reference.md

Register map
^^^^^^^^^^^^


Overview
""""""""


Refer to :ref:`GAP9 address map<REF_MEMORY_MAP_DETAIL>` for the base address to be used.

.. table:: 
    :align: center
    :widths: 40 12 12 90

    +----------------------------------------------------+------+-----+---------------------------------------------+
    |                        Name                        |Offset|Width|                 Description                 |
    +====================================================+======+=====+=============================================+
    |:ref:`REG_TX_CH0_ADD<udma_filter__REG_TX_CH0_ADD>`  |0x0   |   32|Filter TX channel 0 address register         |
    +----------------------------------------------------+------+-----+---------------------------------------------+
    |:ref:`REG_TX_CH0_CFG<udma_filter__REG_TX_CH0_CFG>`  |0x4   |   32|Filter TX channel 0 configuration register   |
    +----------------------------------------------------+------+-----+---------------------------------------------+
    |:ref:`REG_TX_CH0_LEN0<udma_filter__REG_TX_CH0_LEN0>`|0x8   |   32|Filter TX channel 0 length0 register         |
    +----------------------------------------------------+------+-----+---------------------------------------------+
    |:ref:`REG_TX_CH0_LEN1<udma_filter__REG_TX_CH0_LEN1>`|0xC   |   32|Filter TX channel 0 length1 register         |
    +----------------------------------------------------+------+-----+---------------------------------------------+
    |:ref:`REG_TX_CH0_LEN2<udma_filter__REG_TX_CH0_LEN2>`|0x10  |   32|Filter TX channel 0 length2 register         |
    +----------------------------------------------------+------+-----+---------------------------------------------+
    |:ref:`REG_TX_CH1_ADD<udma_filter__REG_TX_CH1_ADD>`  |0x14  |   32|Filter TX channel 1 address register         |
    +----------------------------------------------------+------+-----+---------------------------------------------+
    |:ref:`REG_TX_CH1_CFG<udma_filter__REG_TX_CH1_CFG>`  |0x18  |   32|Filter TX channel 1 configuration register   |
    +----------------------------------------------------+------+-----+---------------------------------------------+
    |:ref:`REG_TX_CH1_LEN0<udma_filter__REG_TX_CH1_LEN0>`|0x1C  |   32|Filter TX channel 1 length0 register         |
    +----------------------------------------------------+------+-----+---------------------------------------------+
    |:ref:`REG_TX_CH1_LEN1<udma_filter__REG_TX_CH1_LEN1>`|0x20  |   32|Filter TX channel 1 length1 register         |
    +----------------------------------------------------+------+-----+---------------------------------------------+
    |:ref:`REG_TX_CH1_LEN2<udma_filter__REG_TX_CH1_LEN2>`|0x24  |   32|Filter TX channel 1 length2 register         |
    +----------------------------------------------------+------+-----+---------------------------------------------+
    |:ref:`REG_RX_CH_ADD<udma_filter__REG_RX_CH_ADD>`    |0x28  |   32|Filter RX channel address register           |
    +----------------------------------------------------+------+-----+---------------------------------------------+
    |:ref:`REG_RX_CH_CFG<udma_filter__REG_RX_CH_CFG>`    |0x2C  |   32|Filter RX channel configuration register     |
    +----------------------------------------------------+------+-----+---------------------------------------------+
    |:ref:`REG_RX_CH_LEN0<udma_filter__REG_RX_CH_LEN0>`  |0x30  |   32|Filter RX channel length0 register           |
    +----------------------------------------------------+------+-----+---------------------------------------------+
    |:ref:`REG_RX_CH_LEN1<udma_filter__REG_RX_CH_LEN1>`  |0x34  |   32|Filter RX channel length1 register           |
    +----------------------------------------------------+------+-----+---------------------------------------------+
    |:ref:`REG_RX_CH_LEN2<udma_filter__REG_RX_CH_LEN2>`  |0x38  |   32|Filter RX channel length2 register           |
    +----------------------------------------------------+------+-----+---------------------------------------------+
    |:ref:`REG_AU_CFG<udma_filter__REG_AU_CFG>`          |0x3C  |   32|Filter arithmetic unit configuration register|
    +----------------------------------------------------+------+-----+---------------------------------------------+
    |:ref:`REG_AU_REG0<udma_filter__REG_AU_REG0>`        |0x40  |   32|Filter arithmetic unit 0 register            |
    +----------------------------------------------------+------+-----+---------------------------------------------+
    |:ref:`REG_AU_REG1<udma_filter__REG_AU_REG1>`        |0x44  |   32|Filter arithmetic unit 1 register            |
    +----------------------------------------------------+------+-----+---------------------------------------------+
    |:ref:`REG_BINCU_TH<udma_filter__REG_BINCU_TH>`      |0x48  |   32|Filter binarization threshold register       |
    +----------------------------------------------------+------+-----+---------------------------------------------+
    |:ref:`REG_BINCU_CNT<udma_filter__REG_BINCU_CNT>`    |0x4C  |   32|Filter binarization count register           |
    +----------------------------------------------------+------+-----+---------------------------------------------+
    |:ref:`REG_BINCU_SETUP<udma_filter__REG_BINCU_SETUP>`|0x50  |   32|Filter binarization datasize format register |
    +----------------------------------------------------+------+-----+---------------------------------------------+
    |:ref:`REG_BINCU_VAL<udma_filter__REG_BINCU_VAL>`    |0x54  |   32|Filter binarization result count register    |
    +----------------------------------------------------+------+-----+---------------------------------------------+
    |:ref:`REG_FILT<udma_filter__REG_FILT>`              |0x58  |   32|Filter control mode register                 |
    +----------------------------------------------------+------+-----+---------------------------------------------+
    |:ref:`REG_FILT_CMD<udma_filter__REG_FILT_CMD>`      |0x5C  |   32|Filter start register                        |
    +----------------------------------------------------+------+-----+---------------------------------------------+
    |:ref:`REG_STATUS<udma_filter__REG_STATUS>`          |0x60  |   32|Filter status register                       |
    +----------------------------------------------------+------+-----+---------------------------------------------+

.. _udma_filter__REG_TX_CH0_ADD:

REG_TX_CH0_ADD
""""""""""""""

Filter TX channel 0 address register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+-------+----------+--------------+
    |Bit #|R/W| Name  |  Reset   | Description  |
    +=====+===+=======+==========+==============+
    |31:0 |R/W|ADDRESS|0x00000000|Target address|
    +-----+---+-------+----------+--------------+

.. _udma_filter__REG_TX_CH0_CFG:

REG_TX_CH0_CFG
""""""""""""""

Filter TX channel 0 configuration register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+----+-----+----------------------------------------------------------------+
    |Bit #|R/W|Name|Reset|                          Description                           |
    +=====+===+====+=====+================================================================+
    |1:0  |R/W|SIZE|0x0  |Data format: b00: 8-bit; b01: 16-bit; b10: 24-bit; b11: 32-bit  |
    +-----+---+----+-----+----------------------------------------------------------------+
    |9:8  |R/W|MODE|0x0  |Transfer mode: b00: linear; b01: sliding; b10: circular; b11: 2D|
    +-----+---+----+-----+----------------------------------------------------------------+

.. _udma_filter__REG_TX_CH0_LEN0:

REG_TX_CH0_LEN0
"""""""""""""""

Filter TX channel 0 length0 register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+------+----------+---------------------------------------------------------+
    |Bit #|R/W| Name |  Reset   |                       Description                       |
    +=====+===+======+==========+=========================================================+
    |31:0 |R/W|LENGTH|0x00000000|Length0 parameter: length of the linear part of transfers|
    +-----+---+------+----------+---------------------------------------------------------+

.. _udma_filter__REG_TX_CH0_LEN1:

REG_TX_CH0_LEN1
"""""""""""""""

Filter TX channel 0 length1 register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+------+----------+---------------------------------------------------------+
    |Bit #|R/W| Name |  Reset   |                       Description                       |
    +=====+===+======+==========+=========================================================+
    |31:0 |R/W|LENGTH|0x00000000|Length1 parameter: number of linear parts in the transfer|
    +-----+---+------+----------+---------------------------------------------------------+

.. _udma_filter__REG_TX_CH0_LEN2:

REG_TX_CH0_LEN2
"""""""""""""""

Filter TX channel 0 length2 register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+------+----------+---------------------------------------------------------------------------------+
    |Bit #|R/W| Name |  Reset   |                                   Description                                   |
    +=====+===+======+==========+=================================================================================+
    |31:0 |R/W|LENGTH|0x00000000|Length2 parameter: length of the stride between linear transfers for 2D transfers|
    +-----+---+------+----------+---------------------------------------------------------------------------------+

.. _udma_filter__REG_TX_CH1_ADD:

REG_TX_CH1_ADD
""""""""""""""

Filter TX channel 1 address register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+-------+----------+--------------+
    |Bit #|R/W| Name  |  Reset   | Description  |
    +=====+===+=======+==========+==============+
    |31:0 |R/W|ADDRESS|0x00000000|Target address|
    +-----+---+-------+----------+--------------+

.. _udma_filter__REG_TX_CH1_CFG:

REG_TX_CH1_CFG
""""""""""""""

Filter TX channel 1 configuration register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+----+-----+----------------------------------------------------------------+
    |Bit #|R/W|Name|Reset|                          Description                           |
    +=====+===+====+=====+================================================================+
    |1:0  |R/W|SIZE|0x0  |Data format: b00: 8-bit; b01: 16-bit; b10: 24-bit; b11: 32-bit  |
    +-----+---+----+-----+----------------------------------------------------------------+
    |9:8  |R/W|MODE|0x0  |Transfer mode: b00: linear; b01: sliding; b10: circular; b11: 2D|
    +-----+---+----+-----+----------------------------------------------------------------+

.. _udma_filter__REG_TX_CH1_LEN0:

REG_TX_CH1_LEN0
"""""""""""""""

Filter TX channel 1 length0 register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+------+----------+---------------------------------------------------------+
    |Bit #|R/W| Name |  Reset   |                       Description                       |
    +=====+===+======+==========+=========================================================+
    |31:0 |R/W|LENGTH|0x00000000|Length0 parameter: length of the linear part of transfers|
    +-----+---+------+----------+---------------------------------------------------------+

.. _udma_filter__REG_TX_CH1_LEN1:

REG_TX_CH1_LEN1
"""""""""""""""

Filter TX channel 1 length1 register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+------+----------+---------------------------------------------------------+
    |Bit #|R/W| Name |  Reset   |                       Description                       |
    +=====+===+======+==========+=========================================================+
    |31:0 |R/W|LENGTH|0x00000000|Length1 parameter: number of linear parts in the transfer|
    +-----+---+------+----------+---------------------------------------------------------+

.. _udma_filter__REG_TX_CH1_LEN2:

REG_TX_CH1_LEN2
"""""""""""""""

Filter TX channel 1 length2 register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+------+----------+---------------------------------------------------------------------------------+
    |Bit #|R/W| Name |  Reset   |                                   Description                                   |
    +=====+===+======+==========+=================================================================================+
    |31:0 |R/W|LENGTH|0x00000000|Length2 parameter: length of the stride between linear transfers for 2D transfers|
    +-----+---+------+----------+---------------------------------------------------------------------------------+

.. _udma_filter__REG_RX_CH_ADD:

REG_RX_CH_ADD
"""""""""""""

Filter RX channel address register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+-------+----------+--------------+
    |Bit #|R/W| Name  |  Reset   | Description  |
    +=====+===+=======+==========+==============+
    |31:0 |R/W|ADDRESS|0x00000000|Target address|
    +-----+---+-------+----------+--------------+

.. _udma_filter__REG_RX_CH_CFG:

REG_RX_CH_CFG
"""""""""""""

Filter RX channel configuration register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+----+-----+----------------------------------------------------------------+
    |Bit #|R/W|Name|Reset|                          Description                           |
    +=====+===+====+=====+================================================================+
    |1:0  |R/W|SIZE|0x0  |Data format: b00: 8-bit; b01: 16-bit; b10: 24-bit; b11: 32-bit  |
    +-----+---+----+-----+----------------------------------------------------------------+
    |9:8  |R/W|MODE|0x0  |Transfer mode: b00: linear; b01: sliding; b10: circular; b11: 2D|
    +-----+---+----+-----+----------------------------------------------------------------+

.. _udma_filter__REG_RX_CH_LEN0:

REG_RX_CH_LEN0
""""""""""""""

Filter RX channel length0 register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+------+----------+---------------------------------------------------------+
    |Bit #|R/W| Name |  Reset   |                       Description                       |
    +=====+===+======+==========+=========================================================+
    |31:0 |R/W|LENGTH|0x00000000|Length0 parameter: length of the linear part of transfers|
    +-----+---+------+----------+---------------------------------------------------------+

.. _udma_filter__REG_RX_CH_LEN1:

REG_RX_CH_LEN1
""""""""""""""

Filter RX channel length1 register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+------+----------+---------------------------------------------------------+
    |Bit #|R/W| Name |  Reset   |                       Description                       |
    +=====+===+======+==========+=========================================================+
    |31:0 |R/W|LENGTH|0x00000000|Length1 parameter: number of linear parts in the transfer|
    +-----+---+------+----------+---------------------------------------------------------+

.. _udma_filter__REG_RX_CH_LEN2:

REG_RX_CH_LEN2
""""""""""""""

Filter RX channel length2 register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+------+----------+---------------------------------------------------------------------------------+
    |Bit #|R/W| Name |  Reset   |                                   Description                                   |
    +=====+===+======+==========+=================================================================================+
    |31:0 |R/W|LENGTH|0x00000000|Length2 parameter: length of the stride between linear transfers for 2D transfers|
    +-----+---+------+----------+---------------------------------------------------------------------------------+

.. _udma_filter__REG_AU_CFG:

REG_AU_CFG
""""""""""

Filter arithmetic unit configuration register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+------+-----+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W| Name |Reset|                                                                                                                                                      Description                                                                                                                                                       |
    +=====+===+======+=====+========================================================================================================================================================================================================================================================================================================================+
    |    0|R/W|SIGNED|0x0  |Arithmetic unit result signed or not: b0: not signed; b1: signed                                                                                                                                                                                                                                                        |
    +-----+---+------+-----+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    1|R/W|BYPASS|0x0  |Arithmetic unit bypass or not: b0: not bypassed; b1: bypassed                                                                                                                                                                                                                                                           |
    +-----+---+------+-----+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |11:8 |R/W|MODE  |0x0  |Arithmetic unit operation: b0000: AxB; b0001: AxB+REG0; b0010: AxB with accumulation; b0011: AxA; b0100: AxA+B; b0101: AxA-B; b0110: AxA with accumulation; b0111: AxA+REG0; b1000: AxREG1; b1001: AxREG1+B; b1010: AxREG1-B; b1011: AxREG1+REG0; b1100: AxREG1 with accumulation; b1101: A+B; b1110: A-B; b1111: A+REG0|
    +-----+---+------+-----+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |20:16|R/W|SHIFT |0x0  |Output right shift (0--31)                                                                                                                                                                                                                                                                                              |
    +-----+---+------+-----+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _udma_filter__REG_AU_REG0:

REG_AU_REG0
"""""""""""

Filter arithmetic unit 0 register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+-----+----------+-------------------------+
    |Bit #|R/W|Name |  Reset   |       Description       |
    +=====+===+=====+==========+=========================+
    |31:0 |R/W|VALUE|0x00000000|Register configured value|
    +-----+---+-----+----------+-------------------------+

.. _udma_filter__REG_AU_REG1:

REG_AU_REG1
"""""""""""

Filter arithmetic unit 1 register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+-----+----------+-------------------------+
    |Bit #|R/W|Name |  Reset   |       Description       |
    +=====+===+=====+==========+=========================+
    |31:0 |R/W|VALUE|0x00000000|Register configured value|
    +-----+---+-----+----------+-------------------------+

.. _udma_filter__REG_BINCU_TH:

REG_BINCU_TH
""""""""""""

Filter binarization threshold register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+---------+----------+------------------------------------------------------------------------+
    |Bit #|R/W|  Name   |  Reset   |                              Description                               |
    +=====+===+=========+==========+========================================================================+
    |31:0 |R/W|THRESHOLD|0x00000000|Threshold value: value > THRESHOLD is binarized to all bits at 1, else 0|
    +-----+---+---------+----------+------------------------------------------------------------------------+

.. _udma_filter__REG_BINCU_CNT:

REG_BINCU_CNT
"""""""""""""

Filter binarization count register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+-----+-----+--------------------------------------------------------------------+
    |Bit #|R/W|Name |Reset|                            Description                             |
    +=====+===+=====+=====+====================================================================+
    |19:0 |R/W|COUNT|0x0  |Number of values above threshold to count before triggering an event|
    +-----+---+-----+-----+--------------------------------------------------------------------+
    |31   |R/W|EN   |0x0  |Binarization and counting unit enable: b0: not enabled; b1: enabled |
    +-----+---+-----+-----+--------------------------------------------------------------------+

.. _udma_filter__REG_BINCU_SETUP:

REG_BINCU_SETUP
"""""""""""""""

Filter binarization datasize format register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+----+-----+-----------------------------------------------------+
    |Bit #|R/W|Name|Reset|                     Description                     |
    +=====+===+====+=====+=====================================================+
    |1:0  |R/W|SIZE|0x0  |Data format: b00: 8-bit; b01: 16-bit; b10-b11: 32-bit|
    +-----+---+----+-----+-----------------------------------------------------+

.. _udma_filter__REG_BINCU_VAL:

REG_BINCU_VAL
"""""""""""""

Filter binarization result count register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+-----+-----+--------------------------------------------+
    |Bit #|R/W|Name |Reset|                Description                 |
    +=====+===+=====+=====+============================================+
    |19:0 |R  |COUNT|0x0  |Number of encountered values above threshold|
    +-----+---+-----+-----+--------------------------------------------+

.. _udma_filter__REG_FILT:

REG_FILT
""""""""

Filter control mode register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+----+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W|Name|Reset|                                                                                                       Description                                                                                                       |
    +=====+===+====+=====+=========================================================================================================================================================================================================================+
    |3:0  |R/W|MODE|0x0  |Filter control mode: b0000: A, B and output; b0001: A and output; b0010: A, B and binarization; b0011: A and binarization; b0100: A, B, output and binarization; b0101: A, output and binarization; b0110-b1111: reserved|
    +-----+---+----+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _udma_filter__REG_FILT_CMD:

REG_FILT_CMD
""""""""""""

Filter start register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+-----+-----+-----------------------------------------+
    |Bit #|R/W|Name |Reset|               Description               |
    +=====+===+=====+=====+=========================================+
    |    0|W  |START|0x0  |Filter start: write 1 to start the filter|
    +-----+---+-----+-----+-----------------------------------------+

.. _udma_filter__REG_STATUS:

REG_STATUS
""""""""""

Filter status register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+----+-----+---------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W|Name|Reset|                                                  Description                                                  |
    +=====+===+====+=====+===============================================================================================================+
    |    0|R/W|DONE|0x0  |Filter done flag: b0: ongoing filter processing; b1: filter has completed processing. Write 1 to clear the flag|
    +-----+---+----+-----+---------------------------------------------------------------------------------------------------------------+
