.. 
   Input file: README.md

Register map
^^^^^^^^^^^^


Overview
""""""""


Refer to :ref:`GAP9 address map<REF_MEMORY_MAP_DETAIL>` for the base address to be used.

.. table:: 
    :align: center
    :widths: 40 12 12 90

    +------------------------------------+------+-----+----------------------------------+
    |                Name                |Offset|Width|           Description            |
    +====================================+======+=====+==================================+
    |:ref:`RX_DEST<udma_spim__RX_DEST>`  |0x0   |   32|Stream ID for the RX uDMA channel |
    +------------------------------------+------+-----+----------------------------------+
    |:ref:`TX_DEST<udma_spim__TX_DEST>`  |0x4   |   32|Stream ID for the TX uDMA channel |
    +------------------------------------+------+-----+----------------------------------+
    |:ref:`CMD_DEST<udma_spim__CMD_DEST>`|0x8   |   32|Stream ID for the CMD uDMA channel|
    +------------------------------------+------+-----+----------------------------------+
    |:ref:`STATUS<udma_spim__STATUS>`    |0x30  |   32|Status register                   |
    +------------------------------------+------+-----+----------------------------------+
    |:ref:`CONFIG<udma_spim__CONFIG>`    |0x34  |   32|Configuration register            |
    +------------------------------------+------+-----+----------------------------------+

.. _udma_spim__RX_DEST:

RX_DEST
"""""""

Stream ID for the RX uDMA channel

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+-------+-----+----------------------------------------------------------------------+
    |Bit #|R/W| Name  |Reset|                             Description                              |
    +=====+===+=======+=====+======================================================================+
    |7:0  |R/W|RX_DEST|0xFF |Stream ID for the RX uDMA channel. Default is 0xFF (channel disabled).|
    +-----+---+-------+-----+----------------------------------------------------------------------+

.. _udma_spim__TX_DEST:

TX_DEST
"""""""

Stream ID for the TX uDMA channel

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+-------+-----+----------------------------------------------------------------------+
    |Bit #|R/W| Name  |Reset|                             Description                              |
    +=====+===+=======+=====+======================================================================+
    |7:0  |R/W|TX_DEST|0xFF |Stream ID for the TX uDMA channel. Default is 0xFF (channel disabled).|
    +-----+---+-------+-----+----------------------------------------------------------------------+

.. _udma_spim__CMD_DEST:

CMD_DEST
""""""""

Stream ID for the CMD uDMA channel

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+--------+-----+-----------------------------------------------------------------------+
    |Bit #|R/W|  Name  |Reset|                              Description                              |
    +=====+===+========+=====+=======================================================================+
    |7:0  |R/W|CMD_DEST|0xFF |Stream ID for the CMD uDMA channel. Default is 0xFF (channel disabled).|
    +-----+---+--------+-----+-----------------------------------------------------------------------+

.. _udma_spim__STATUS:

STATUS
""""""

Status register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+------------------+-----+----------------------------------------------------------------------+
    |Bit #|R/W|       Name       |Reset|                             Description                              |
    +=====+===+==================+=====+======================================================================+
    |3:0  |R/W|STATUS            |    0|Misc status                                                           |
    +-----+---+------------------+-----+----------------------------------------------------------------------+
    |4    |R/W|CMD_EVENT         |    0|Is set to 1 upon transmission of a command; write register to clear   |
    +-----+---+------------------+-----+----------------------------------------------------------------------+
    |5    |R/W|RX_OVERFLOW_EVENT |    0|(slave only) Set to 1 in case of RX overflow; write register to clear |
    +-----+---+------------------+-----+----------------------------------------------------------------------+
    |6    |R/W|TX_UNDERFLOW_EVENT|    0|(slave only) Set to 1 in case of TX underflow; write register to clear|
    +-----+---+------------------+-----+----------------------------------------------------------------------+

.. _udma_spim__CONFIG:

CONFIG
""""""

Configuration register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+--------------+-----+-------------------------+
    |Bit #|R/W|     Name     |Reset|       Description       |
    +=====+===+==============+=====+=========================+
    |    0|R/W|SPI_SLAVE_MODE|    1|Enable SPI slave mode    |
    +-----+---+--------------+-----+-------------------------+
    |    1|R/W|RX_OVRFLW_EN  |    1|Enable RX overflow event |
    +-----+---+--------------+-----+-------------------------+
    |    2|R/W|TX_UNDRFLW_EN |    1|Enable TX underflow event|
    +-----+---+--------------+-----+-------------------------+

SPI micro-code
^^^^^^^^^^^^^^

.. table:: 
    :align: center
    :widths: 45 15 15 80

    +---------------------------------------------------------------+-----+------------+----------------------------------------------------------------------------------------------+
    |                         Command name                          |Width|Command code|                                         Description                                          |
    +===============================================================+=====+============+==============================================================================================+
    |:ref:`SPI_CMD_CFG<SPI micro-code__SPI_CMD_CFG>`                |   32|0x0         |(Master only) Set the configuration for the SPI Master IP                                     |
    +---------------------------------------------------------------+-----+------------+----------------------------------------------------------------------------------------------+
    |:ref:`SPI_CMD_SOT<SPI micro-code__SPI_CMD_SOT>`                |   32|0x1         |(Master only) Select the Chip Select (CS)                                                     |
    +---------------------------------------------------------------+-----+------------+----------------------------------------------------------------------------------------------+
    |:ref:`SPI_CMD_SEND_CMD<SPI micro-code__SPI_CMD_SEND_CMD>`      |   32|0x2         |(Master only) Transmit up to 16 bits of data in the command word                              |
    +---------------------------------------------------------------+-----+------------+----------------------------------------------------------------------------------------------+
    |:ref:`SPI_CMD_DUMMY<SPI micro-code__SPI_CMD_DUMMY>`            |   32|0x4         |(Master only) Receive a number of dummy bits (not sent to the RX interface)                   |
    +---------------------------------------------------------------+-----+------------+----------------------------------------------------------------------------------------------+
    |:ref:`SPI_CMD_WAIT<SPI micro-code__SPI_CMD_WAIT>`              |   32|0x5         |(Master only) Wait for an external event to move to the next instruction                      |
    +---------------------------------------------------------------+-----+------------+----------------------------------------------------------------------------------------------+
    |:ref:`SPI_CMD_TX_DATA<SPI micro-code__SPI_CMD_TX_DATA>`        |   32|0x6         |Transfer from master to slave (Master: send data; slave: receive data) -- max 64 kwords       |
    +---------------------------------------------------------------+-----+------------+----------------------------------------------------------------------------------------------+
    |:ref:`SPI_CMD_RX_DATA<SPI micro-code__SPI_CMD_RX_DATA>`        |   32|0x7         |Transfer from slave to master (Master: receive data; slave: send data) -- max 64 kwords       |
    +---------------------------------------------------------------+-----+------------+----------------------------------------------------------------------------------------------+
    |:ref:`SPI_CMD_RPT<SPI micro-code__SPI_CMD_RPT>`                |   32|0x8         |(Master only) Repeat the commands from here to SPI_CMD_RPT_END command a given number of times|
    +---------------------------------------------------------------+-----+------------+----------------------------------------------------------------------------------------------+
    |:ref:`SPI_CMD_EOT<SPI micro-code__SPI_CMD_EOT>`                |   32|0x9         |Clear the Chip Select (CS) after transfer                                                     |
    +---------------------------------------------------------------+-----+------------+----------------------------------------------------------------------------------------------+
    |:ref:`SPI_CMD_RPT_END<SPI micro-code__SPI_CMD_RPT_END>`        |   32|0xA         |(Master only) End of the repeated command section                                             |
    +---------------------------------------------------------------+-----+------------+----------------------------------------------------------------------------------------------+
    |:ref:`SPI_CMD_RX_CHECK<SPI micro-code__SPI_CMD_RX_CHECK>`      |   32|0xB         |(Master only) Check up to 16 bits of data against an expected value                           |
    +---------------------------------------------------------------+-----+------------+----------------------------------------------------------------------------------------------+
    |:ref:`SPI_CMD_FULL_DUPLEX<SPI micro-code__SPI_CMD_FULL_DUPLEX>`|   32|0xC         |Transfer in full duplex mode (send and receive data) -- max 64 kwords                         |
    +---------------------------------------------------------------+-----+------------+----------------------------------------------------------------------------------------------+
    |:ref:`SPI_CMD_SETUP_AG<SPI micro-code__SPI_CMD_SETUP_AG>`      |   32|0xD         |Setup a register of the address generator (the register value is given in the following word) |
    +---------------------------------------------------------------+-----+------------+----------------------------------------------------------------------------------------------+

.. _SPI micro-code__SPI_CMD_CFG:

SPI_CMD_CFG
"""""""""""

.. table:: 
    :align: center
    :widths: 15 45 90

    +-----+-------+------------------------------+
    |Bit #| Name  |         Description          |
    +=====+=======+==============================+
    |7:0  |CLKDIV |Clock divider value           |
    +-----+-------+------------------------------+
    |8    |CPHA   |Clock phase (CPHA) value      |
    +-----+-------+------------------------------+
    |9    |CPOL   |Clock polarity (CPOL) value   |
    +-----+-------+------------------------------+
    |31:28|SPI_CMD|Command code -- here “CFG”=0x0|
    +-----+-------+------------------------------+

.. _SPI micro-code__SPI_CMD_SOT:

SPI_CMD_SOT
"""""""""""

.. table:: 
    :align: center
    :widths: 15 45 90

    +-----+-------+-----------------------------------------------------------------------+
    |Bit #| Name  |                              Description                              |
    +=====+=======+=======================================================================+
    |1:0  |CS     |Select the Chip Select (CS): b00: csn0; b01: csn1; b10: csn2; b11: csn3|
    +-----+-------+-----------------------------------------------------------------------+
    |31:28|SPI_CMD|Command code -- here “SOT”=0x1                                         |
    +-----+-------+-----------------------------------------------------------------------+

.. _SPI micro-code__SPI_CMD_SEND_CMD:

SPI_CMD_SEND_CMD
""""""""""""""""

.. table:: 
    :align: center
    :widths: 15 45 90

    +-----+----------+------------------------------------------------------------------------------------------------------------+
    |Bit #|   Name   |                                                Description                                                 |
    +=====+==========+============================================================================================================+
    |15:0 |DATA_VALUE|Value to be sent through the command. MSB must always be at bit 15, even if less than 16 bits are to be sent|
    +-----+----------+------------------------------------------------------------------------------------------------------------+
    |19:16|DATA_SIZE |Size in bits of the value to be sent, minus 1                                                               |
    +-----+----------+------------------------------------------------------------------------------------------------------------+
    |27   |QPI       |Set to 1 to use quadSPI                                                                                     |
    +-----+----------+------------------------------------------------------------------------------------------------------------+
    |31:28|SPI_CMD   |Command code -- here “SEND_CMD”=0x2                                                                         |
    +-----+----------+------------------------------------------------------------------------------------------------------------+

.. _SPI micro-code__SPI_CMD_DUMMY:

SPI_CMD_DUMMY
"""""""""""""

.. table:: 
    :align: center
    :widths: 15 45 90

    +-----+-----------+---------------------------------+
    |Bit #|   Name    |           Description           |
    +=====+===========+=================================+
    |20:16|DUMMY_CYCLE|Number of dummy cycles to perform|
    +-----+-----------+---------------------------------+
    |27   |QPI        |Set to 1 to use quadSPI          |
    +-----+-----------+---------------------------------+
    |31:28|SPI_CMD    |Command code -- here “DUMMY”=0x4 |
    +-----+-----------+---------------------------------+

.. _SPI micro-code__SPI_CMD_WAIT:

SPI_CMD_WAIT
""""""""""""

.. table:: 
    :align: center
    :widths: 15 45 90

    +-----+--------------------+-----------------------------------------------------------------------------------------------------------------------------+
    |Bit #|        Name        |                                                         Description                                                         |
    +=====+====================+=============================================================================================================================+
    |6:0  |EVENT_ID_CYCLE_COUNT|External event id or Number of wait cycles                                                                                   |
    +-----+--------------------+-----------------------------------------------------------------------------------------------------------------------------+
    |9:8  |WAIT_TYPE           |Type of wait: b00: wait for a soc event selected by EVENT_ID; ’b01: wait for CYCLE_COUNT cycles; b10: reserved; b11: reserved|
    +-----+--------------------+-----------------------------------------------------------------------------------------------------------------------------+
    |31:28|SPI_CMD             |Command code -- here “WAIT”=0x5                                                                                              |
    +-----+--------------------+-----------------------------------------------------------------------------------------------------------------------------+

.. _SPI micro-code__SPI_CMD_TX_DATA:

SPI_CMD_TX_DATA
"""""""""""""""

.. table:: 
    :align: center
    :widths: 15 45 90

    +-----+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |Bit #|     Name      |                                                                                                                                             Description                                                                                                                                              |
    +=====+===============+======================================================================================================================================================================================================================================================================================================+
    |15:0 |WORD_NUM       |Number of words (max 64K) to send (master) or receive (slave), minus 1. The number of bits sent depends on the word size.                                                                                                                                                                             |
    +-----+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |16   |IGNORE_SELECT  |(Slave only) Set to 1 to ignore slave select                                                                                                                                                                                                                                                          |
    +-----+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |20:16|WORD_SIZE      |(Master only) Size in bits, minus 1, of data words to send. Each word is read from L2 with a transfer of a configurable size (see WORD_PER_TRANSF field).                                                                                                                                             |
    +-----+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |22:21|WORD_PER_TRANSF|(Master only) Number of bytes transferred from L2 at each transfer: b00: 1 byte per transfer; 01: 2 bytes per transfer; b10: 4 bytes per transfer; b11: reserved. Using unaligned values between WORD_SIZE and WORD_PER_TRANSF can be used to insert dummy bits and drop bits, compared to L2 content.|
    +-----+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |26   |LSB            |(Master only) Set to 1 to use least-significant-bit-first transfers                                                                                                                                                                                                                                   |
    +-----+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |27   |QPI            |(Master only) Set to 1 to use quadSPI                                                                                                                                                                                                                                                                 |
    +-----+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |31:28|SPI_CMD        |Command code -- here “TX_DATA”=0x6                                                                                                                                                                                                                                                                    |
    +-----+---------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _SPI micro-code__SPI_CMD_RX_DATA:

SPI_CMD_RX_DATA
"""""""""""""""

.. table:: 
    :align: center
    :widths: 15 45 90

    +-----+---------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |Bit #|     Name      |                                                                                                                                                                                                                                                    Description                                                                                                                                                                                                                                                    |
    +=====+===============+===================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
    |15:0 |WORD_NUM       |Number of words (max 64K) to receive master) or send (slave), minus 1. The number of bits received depends on the word size.                                                                                                                                                                                                                                                                                                                                                                                       |
    +-----+---------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |16   |IGNORE_SELECT  |(Slave only) Set to 1 to ignore slave select                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
    +-----+---------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |20:16|WORD_SIZE      |(Master only) Size in bits, minus 1, of data words to receive.                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
    +-----+---------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |22:21|WORD_PER_TRANSF|(Master only) Number of received words transferred to L2 in a single transfer: b00: 1 word per transfer; 01: 2 words per transfer; b10: 4 words per transfer; b11: reserved. A uDMA transfer to L2 is always 32-bit. To build it, WORD_SIZE is rounded-up to the closest supported word size (8, 16 or 32 bits), and the configured number of words are then packed. If the rounded word size multiplied by this field is not equal to 32 bits, then either dummy bits are inserted, or exceeding bits are dropped.|
    +-----+---------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |26   |LSB            |(Master only) Set to 1 to use least-significant-bit-first transfers                                                                                                                                                                                                                                                                                                                                                                                                                                                |
    +-----+---------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |27   |QPI            |(Master only) Use quadSPI mode                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
    +-----+---------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |31:28|SPI_CMD        |Command code -- here “RX_DATA”=0x7                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
    +-----+---------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _SPI micro-code__SPI_CMD_RPT:

SPI_CMD_RPT
"""""""""""

.. table:: 
    :align: center
    :widths: 15 45 90

    +-----+-------+-------------------------------------+
    |Bit #| Name  |             Description             |
    +=====+=======+=====================================+
    |15:0 |RPT_CNT|Number of repeat iterations (max 64K)|
    +-----+-------+-------------------------------------+
    |31:28|SPI_CMD|Command code -- here “RPT”=0x8       |
    +-----+-------+-------------------------------------+

.. _SPI micro-code__SPI_CMD_EOT:

SPI_CMD_EOT
"""""""""""

.. table:: 
    :align: center
    :widths: 15 45 90

    +-----+---------+---------------------------------------------------------------------------------------------------------------------------------------+
    |Bit #|  Name   |                                                              Description                                                              |
    +=====+=========+=======================================================================================================================================+
    |    0|EVENT_GEN|Enable generation of EOT events: 0: disabled; 1: enabled                                                                               |
    +-----+---------+---------------------------------------------------------------------------------------------------------------------------------------+
    |    1|CS_KEEP  |Keep chip-select active: 0: CS is released (high) at the end of the transfer: 1: CS is kept active (low) after the transfer is finished|
    +-----+---------+---------------------------------------------------------------------------------------------------------------------------------------+
    |31:28|SPI_CMD  |Command code -- here “EOT”=0x9                                                                                                         |
    +-----+---------+---------------------------------------------------------------------------------------------------------------------------------------+

.. _SPI micro-code__SPI_CMD_RPT_END:

SPI_CMD_RPT_END
"""""""""""""""

.. table:: 
    :align: center
    :widths: 15 45 90

    +-----+-------+----------------------------------+
    |Bit #| Name  |           Description            |
    +=====+=======+==================================+
    |31:28|SPI_CMD|Command code -- here “RPT_END”=0xA|
    +-----+-------+----------------------------------+

.. _SPI micro-code__SPI_CMD_RX_CHECK:

SPI_CMD_RX_CHECK
""""""""""""""""

.. table:: 
    :align: center
    :widths: 15 45 90

    +-----+-----------+----------------------------------------------------------------------------------------------------+
    |Bit #|   Name    |                                            Description                                             |
    +=====+===========+====================================================================================================+
    |15:0 |COMP_DATA  |Data value to compare (max 16 bits)                                                                 |
    +-----+-----------+----------------------------------------------------------------------------------------------------+
    |19:16|STATUS_SIZE|Size in bits of the value to check, minus 1                                                         |
    +-----+-----------+----------------------------------------------------------------------------------------------------+
    |25:24|CHECK_TYPE |Type of check: b00: compare all bits; b01: compare only ones; b10: compare only zeros; b11: reserved|
    +-----+-----------+----------------------------------------------------------------------------------------------------+
    |26   |LSB        |Set to 1 to use least-significant-bit-first transfers                                               |
    +-----+-----------+----------------------------------------------------------------------------------------------------+
    |27   |QPI        |Set to 1 to use quadSPI                                                                             |
    +-----+-----------+----------------------------------------------------------------------------------------------------+
    |31:28|SPI_CMD    |Command code -- here “RX_CHECK”=0xB                                                                 |
    +-----+-----------+----------------------------------------------------------------------------------------------------+

.. _SPI micro-code__SPI_CMD_FULL_DUPLEX:

SPI_CMD_FULL_DUPLEX
"""""""""""""""""""

.. table:: 
    :align: center
    :widths: 15 45 90

    +-----+---------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |Bit #|     Name      |                                                                                                                                                                                                                                              Description                                                                                                                                                                                                                                               |
    +=====+===============+========================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
    |15:0 |WORD_NUM       |Number of words (max 64K) to send and receive, minus 1. The number of bits received and sent depends on the word size.                                                                                                                                                                                                                                                                                                                                                                                  |
    +-----+---------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |16   |IGNORE_SELECT  |(Slave only) Set to 1 to ignore slave select                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
    +-----+---------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |20:16|WORD_SIZE      |(Master only) Size in bits, minus 1, of data words to send and receive                                                                                                                                                                                                                                                                                                                                                                                                                                  |
    +-----+---------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |22:21|WORD_PER_TRANSF|(Master only) Number of words transferred from L2 at each transfer: b00: 1 byte per transfer; 01: 2 bytes per transfer; b10: 4 bytes per transfer; b11: reserved. A uDMA transfer to L2 is always 32-bit. To build it, WORD_SIZE is rounded-up to the closest supported word size (8, 16 or 32 bits), and the configured number of words are then packed. If the rounded word size multiplied by this field is not equal to 32 bits, then either dummy bits are inserted, or exceeding bits are dropped.|
    +-----+---------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |26   |LSB            |(Master only) Set to 1 to use least-significant-bit-first transfers                                                                                                                                                                                                                                                                                                                                                                                                                                     |
    +-----+---------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |31:28|SPI_CMD        |Command code -- here “FULL_DUPLEX”=0xC                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
    +-----+---------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _SPI micro-code__SPI_CMD_SETUP_AG:

SPI_CMD_SETUP_AG
""""""""""""""""

.. table:: 
    :align: center
    :widths: 15 45 90

    +-----+-------------+--------------------------------------------------------------------------------------------------------------+
    |Bit #|    Name     |                                                 Description                                                  |
    +=====+=============+==============================================================================================================+
    |1:0  |REG_SELECT   |Register address to set. Configuration data is taken in the following word.                                   |
    +-----+-------------+--------------------------------------------------------------------------------------------------------------+
    |8    |STREAM_SELECT|Selects which address generator to set: 0: use stream ID of the RX channel; 1: use stream ID of the TX channel|
    +-----+-------------+--------------------------------------------------------------------------------------------------------------+
    |31:28|SPI_CMD      |Command code -- here “SETUP_AG”=0xD                                                                           |
    +-----+-------------+--------------------------------------------------------------------------------------------------------------+
