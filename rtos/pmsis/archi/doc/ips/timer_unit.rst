.. 
   Input file: fe/ips/timer_unit/doc/TIMER_UNIT_reference.md

Register map
^^^^^^^^^^^^


Overview
""""""""


Refer to :ref:`GAP9 address map<REF_MEMORY_MAP_DETAIL>` for the base address to be used.

.. table:: 
    :align: center
    :widths: 40 12 12 90

    +-------------------------------------+------+-----+------------------------------------+
    |                Name                 |Offset|Width|            Description             |
    +=====================================+======+=====+====================================+
    |:ref:`CFG_LO<timer_unit__CFG_LO>`    |0x0   |     |Timer Low Configuration register    |
    +-------------------------------------+------+-----+------------------------------------+
    |:ref:`CFG_HI<timer_unit__CFG_HI>`    |0x4   |     |Timer High Configuration register   |
    +-------------------------------------+------+-----+------------------------------------+
    |:ref:`CNT_LO<timer_unit__CNT_LO>`    |0x8   |     |Timer Low counter value register    |
    +-------------------------------------+------+-----+------------------------------------+
    |:ref:`CNT_HI<timer_unit__CNT_HI>`    |0xC   |     |Timer High counter value register   |
    +-------------------------------------+------+-----+------------------------------------+
    |:ref:`CMP_LO<timer_unit__CMP_LO>`    |0x10  |     |Timer Low comparator value register |
    +-------------------------------------+------+-----+------------------------------------+
    |:ref:`CMP_HI<timer_unit__CMP_HI>`    |0x14  |     |Timer High comparator value register|
    +-------------------------------------+------+-----+------------------------------------+
    |:ref:`START_LO<timer_unit__START_LO>`|0x18  |     |Start Timer Low counting register   |
    +-------------------------------------+------+-----+------------------------------------+
    |:ref:`START_HI<timer_unit__START_HI>`|0x1C  |     |Start Timer High counting register  |
    +-------------------------------------+------+-----+------------------------------------+
    |:ref:`RESET_LO<timer_unit__RESET_LO>`|0x20  |     |Reset Timer Low counter register    |
    +-------------------------------------+------+-----+------------------------------------+
    |:ref:`RESET_HI<timer_unit__RESET_HI>`|0x24  |     |Reset Timer High counter register   |
    +-------------------------------------+------+-----+------------------------------------+

.. _timer_unit__CFG_LO:

CFG_LO
""""""

Timer Low Configuration register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W| Name |Reset|                                                                               Description                                                                               |
    +=====+===+======+=====+=========================================================================================================================================================================+
    |    0|R/W|ENABLE|0x0  |Timer Low enable: b0: disabled; b1: enabled                                                                                                                              |
    +-----+---+------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    1|R/W|RESET |0x0  |Write b1 to reset Timer Low counter. This fiels is cleared after reset execution                                                                                         |
    +-----+---+------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    2|R/W|IRQEN |0x0  |Timer Low compare interrupt enable: b0: disabled; b1: enabled                                                                                                            |
    +-----+---+------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    3|R/W|IEM   |0x0  |Timer Low input event mask: b0: disabled; b1: enabled                                                                                                                    |
    +-----+---+------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    4|R/W|MODE  |0x0  |Timer Low continuous mode configuration: b0: Timer Low counter continues incrementing when value matches CMP_LO; b1: Timer low counter is reset when value matches CMP_LO|
    +-----+---+------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    5|R/W|ONE_S |0x0  |Timer Low one shot configuration: b0: Timer Low remains enabled when value matches CMP_LO; b1: disable Timer Low when value matches CMP_LO                               |
    +-----+---+------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    6|R/W|PEN   |0x0  |Timer Low prescaler enable: b0: disabled; b1: enabled                                                                                                                    |
    +-----+---+------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    7|R/W|CCFG  |0x0  |Timer Low clock source configuration: b0: FLL or FLL+Prescaler; b1: slow reference clock                                                                                 |
    +-----+---+------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |15:8 |R/W|PVAL  |0x0  |Timer Low prescaler value. Ftimer = Fclk / (1 + PVAL)                                                                                                                    |
    +-----+---+------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |   31|R/W|CASC  |0x0  |Timer Low + Timer High 64bit cascaded mode: b0: disabled; b1: enabled                                                                                                    |
    +-----+---+------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _timer_unit__CFG_HI:

CFG_HI
""""""

Timer High Configuration register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+------+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W| Name |Reset|                                                                               Description                                                                                |
    +=====+===+======+=====+==========================================================================================================================================================================+
    |    0|R/W|ENABLE|0x0  |Timer High enable: b0: disabled; b1: enabled                                                                                                                              |
    +-----+---+------+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    1|W  |RESET |0x0  |Write b1 to reset Timer High counter. This fiels is cleared after reset execution                                                                                         |
    +-----+---+------+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    2|R/W|IRQEN |0x0  |Timer High compare interrupt enable: b0: disabled; b1: enabled                                                                                                            |
    +-----+---+------+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    3|R/W|IEM   |0x0  |Timer High input event mask: b0: disabled; b1: enabled                                                                                                                    |
    +-----+---+------+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    4|R/W|MODE  |0x0  |Timer High continuous mode configuration: b0: Timer Low counter continues incrementing when value matches CMP_HI; b1: Timer low counter is reset when value matches CMP_HI|
    +-----+---+------+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    5|R/W|ONE_S |0x0  |Timer High one shot configuration: b0: Timer Low remains enabled when value matches CMP_HI; b1: disable Timer Low when value matches CMP_HI                               |
    +-----+---+------+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    6|R/W|PEN   |0x0  |Timer High prescaler enable: b0: disabled; b1: enabled                                                                                                                    |
    +-----+---+------+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    7|R/W|CLKCFG|0x0  |Timer High clock source configuration: b0: FLL or FLL+Prescaler; b1: slow reference clock                                                                                 |
    +-----+---+------+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _timer_unit__CNT_LO:

CNT_LO
""""""

Timer Low counter value register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+------+-----+-----------------------+
    |Bit #|R/W| Name |Reset|      Description      |
    +=====+===+======+=====+=======================+
    |31:0 |R/W|CNT_LO|0x0  |Timer Low counter value|
    +-----+---+------+-----+-----------------------+

.. _timer_unit__CNT_HI:

CNT_HI
""""""

Timer High counter value register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+------+-----+------------------------+
    |Bit #|R/W| Name |Reset|      Description       |
    +=====+===+======+=====+========================+
    |31:0 |R/W|CNT_HI|0x0  |Timer High counter value|
    +-----+---+------+-----+------------------------+

.. _timer_unit__CMP_LO:

CMP_LO
""""""

Timer Low comparator value register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+------+-----+--------------------------+
    |Bit #|R/W| Name |Reset|       Description        |
    +=====+===+======+=====+==========================+
    |31:0 |R/W|CMP_LO|0x0  |Timer Low comparator value|
    +-----+---+------+-----+--------------------------+

.. _timer_unit__CMP_HI:

CMP_HI
""""""

Timer High comparator value register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+------+-----+---------------------------+
    |Bit #|R/W| Name |Reset|        Description        |
    +=====+===+======+=====+===========================+
    |31:0 |R/W|CMP_HI|0x0  |Timer High comparator value|
    +-----+---+------+-----+---------------------------+

.. _timer_unit__START_LO:

START_LO
""""""""

Start Timer Low counting register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+-------+-----+------------------------------------------------------------------+
    |Bit #|R/W| Name  |Reset|                           Description                            |
    +=====+===+=======+=====+==================================================================+
    |    0|W  |STRT_LO|0x0  |Timer Low start command. When executed, CFG_LO ENABLE field is set|
    +-----+---+-------+-----+------------------------------------------------------------------+

.. _timer_unit__START_HI:

START_HI
""""""""

Start Timer High counting register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+-------+-----+-------------------------------------------------------------------+
    |Bit #|R/W| Name  |Reset|                            Description                            |
    +=====+===+=======+=====+===================================================================+
    |    0|W  |STRT_HI|0x0  |Timer High start command. When executed, CFG_HI ENABLE field is set|
    +-----+---+-------+-----+-------------------------------------------------------------------+

.. _timer_unit__RESET_LO:

RESET_LO
""""""""

Reset Timer Low counter register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+------+-----+-------------------------------------------------------------------------+
    |Bit #|R/W| Name |Reset|                               Description                               |
    +=====+===+======+=====+=========================================================================+
    |    0|W  |RST_LO|0x0  |Timer Low counter reset command. When executed, CFG_LO RESET field is set|
    +-----+---+------+-----+-------------------------------------------------------------------------+

.. _timer_unit__RESET_HI:

RESET_HI
""""""""

Reset Timer High counter register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+------+-----+--------------------------------------------------------------------------+
    |Bit #|R/W| Name |Reset|                               Description                                |
    +=====+===+======+=====+==========================================================================+
    |    0|W  |RST_HI|0x0  |Timer High counter reset command. When executed, CFG_HI RESET field is set|
    +-----+---+------+-----+--------------------------------------------------------------------------+
