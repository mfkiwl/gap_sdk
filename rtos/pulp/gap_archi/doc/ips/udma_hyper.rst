Input file: fe/ips/udma/udma_hyperbus_octospi/README.md

Register map
^^^^^^^^^^^^


Overview
""""""""

.. table:: 

    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |                        Name                        |Offset|Width|                        Description                        |
    +====================================================+======+=====+===========================================================+
    |:ref:`RX_DEST<udma_hyper_RX_DEST>`                  |     0|   32|Stream ID for the uDMA channel                             |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`TX_DEST<udma_hyper_TX_DEST>`                  |     4|   32|Stream ID for the uDMA channel                             |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`TRANS_MODE<udma_hyper_TRANS_MODE>`            |     8|   32|Configure transaction mode                                 |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`TRANS_ADDR<udma_hyper_TRANS_ADDR>`            |    12|   32|Configure each transaction addr                            |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`TRANS_SIZE<udma_hyper_TRANS_SIZE>`            |    16|   32|Configure each transaction size                            |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`TRANS_CFG<udma_hyper_TRANS_CFG>`              |    20|   32|Start  each transaction rx/tx                              |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`OSPI_CMD_XIP<udma_hyper_OSPI_CMD_XIP>`        |    24|   32|OSPI XIP command and psram command config                  |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`OSPI_CFG_XIP<udma_hyper_OSPI_CFG_XIP>`        |    28|   32|OSPI XIP configuration                                     |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`EXT_ADDR<udma_hyper_EXT_ADDR>`                |    32|   32|Memory access address register.                            |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`TIMING_CFG<udma_hyper_TIMING_CFG>`            |    36|   32|HYPERBUS and Octo SPI Memory Timing configuration register.|
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`MBA0<udma_hyper_MBA0>`                        |    40|   32|Device start address register.                             |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`MBA1<udma_hyper_MBA1>`                        |    44|   32|Device start address register.                             |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`DEVICE<udma_hyper_DEVICE>`                    |    48|   32|Device type register(RAM or FLASH).                        |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`OSPI_CMD<udma_hyper_OSPI_CMD>`                |    52|   32|OSPI command and psram command config                      |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`OSPI_ALTER<udma_hyper_OSPI_ALTER>`            |    56|   32|OSPI alternative 2 bytes                                   |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`OSPI_CFG<udma_hyper_OSPI_CFG>`                |    60|   32|OSPI configuration                                         |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`OSPI_CSN<udma_hyper_OSPI_CSN>`                |    64|   32|OSPI chip select configuration                             |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`OSPI_JEDEC_RESET<udma_hyper_OSPI_JEDEC_RESET>`|    68|   32|OSPI JEDEC Hardware Reset, user can control sdo0 manually  |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`OSPI_RAM_OPT<udma_hyper_OSPI_RAM_OPT>`        |    72|   32|OSPI RAM DATA transfer optimisation, only in auto mode     |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`OSPI_ALTER_XIP<udma_hyper_OSPI_ALTER_XIP>`    |    76|   32|OSPI XIP alternative 2 bytes                               |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`OSPI_REG_XIP<udma_hyper_OSPI_REG_XIP>`        |    80|   32|OSPI XIP other configuration                               |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`LINE_2D<udma_hyper_LINE_2D>`                  |    84|   32|OSPI 2D line.                                              |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`STRIDE_2D<udma_hyper_STRIDE_2D>`              |    88|   32|OSPI 2D stride.                                            |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`BURST_ENABLE<udma_hyper_BURST_ENABLE>`        |    92|   32|OSPI burst mode/2D mode enable.                            |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`IRQ_EN<udma_hyper_IRQ_EN>`                    |    96|   32|OSPI interrupt enable register                             |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`CLK_DIV<udma_hyper_CLK_DIV>`                  |   100|   32|Clock divide.                                              |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`STATUS<udma_hyper_STATUS>`                    |   104|   32|Transfer status for error.                                 |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`SDIO_CMD_ARG<udma_hyper_SDIO_CMD_ARG>`        |   108|   32|SDIO command argument.                                     |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`SDIO_RSP0<udma_hyper_SDIO_RSP0>`              |   112|   32|SDIO response 0.                                           |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`SDIO_RSP1<udma_hyper_SDIO_RSP1>`              |   116|   32|SDIO response 1.                                           |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`SDIO_RSP2<udma_hyper_SDIO_RSP2>`              |   120|   32|SDIO response 2.                                           |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`SDIO_RSP3<udma_hyper_SDIO_RSP3>`              |   124|   32|SDIO response 3.                                           |
    +----------------------------------------------------+------+-----+-----------------------------------------------------------+

.. _udma_hyper_RX_DEST:

RX_DEST
"""""""

Stream ID for the uDMA channel

.. table:: 

    +-----+---+-----------+---------------------------------------------------------------------------+
    |Bit #|R/W|   Name    |                                Description                                |
    +=====+===+===========+===========================================================================+
    |7:0  |R/W|DEST       |Stream ID for the RX 1D/2D uDMA channel. Default is 0xFF(channel disabled) |
    +-----+---+-----------+---------------------------------------------------------------------------+
    |15:8 |R/W|DEST_STREAM|Stream ID for the RX STREAM uDMA channel. Default is 0xFF(channel disabled)|
    +-----+---+-----------+---------------------------------------------------------------------------+

.. _udma_hyper_TX_DEST:

TX_DEST
"""""""

Stream ID for the uDMA channel

.. table:: 

    +-----+---+-----------+---------------------------------------------------------------------------+
    |Bit #|R/W|   Name    |                                Description                                |
    +=====+===+===========+===========================================================================+
    |7:0  |R/W|DEST       |Stream ID for the TX 1D/2D uDMA channel. Default is 0xFF(channel disabled) |
    +-----+---+-----------+---------------------------------------------------------------------------+
    |15:8 |R/W|DEST_STREAM|Stream ID for the TX STREAM uDMA channel. Default is 0xFF(channel disabled)|
    +-----+---+-----------+---------------------------------------------------------------------------+

.. _udma_hyper_TRANS_MODE:

TRANS_MODE
""""""""""

Configure transaction mode

.. table:: 

    +-----+---+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W|      Name       |                                                                                    Description                                                                                    |
    +=====+===+=================+===================================================================================================================================================================================+
    |    0|R/W|AUTO_ENA         |Transfer mode in AUTO, IP will configure the UDMA transfer automatically using register parameters instead using SW configuration in UDMA - 1'b0: AUTO_DIS - 1'b1: AUTO_EN         |
    +-----+---+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    1|R/W|XIP_EN           |Transfer mode in XIP, IP will configure the UDMA transfer automatically using XIP parameters  instead using SW configuration in UDMA - 1'b0: XIP_DIS - 1'b1: XIP_EN                |
    +-----+---+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |3:2  |R  |RESERVED0        |-                                                                                                                                                                                  |
    +-----+---+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    4|R/W|STREAM_EN        |Transfer mode in noraml mode use STREAM or not, IP will configure the STREAM UDMA transfer automatically to read / write data from / to memory - 1'b0: STREAM_DIS - 1'b1: STREAM_EN|
    +-----+---+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    5|R/W|AES_STREAM_EN    |Transfer mode in noraml mode use AES STREAM or not, to avoid Read synchronous issue when in AUTO mode - 1'b0: AES_STREAM_DIS - 1'b1: AES_STREAM_EN                                 |
    +-----+---+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |7:6  |R  |RESERVED1        |-                                                                                                                                                                                  |
    +-----+---+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    8|R/W|XIP_STREAM_EN    |Transfer mode in noraml mode use STREAM or not, IP will configure the STREAM UDMA transfer automatically to read / write data from / to memory - 1'b0: STREAM_DIS - 1'b1: STREAM_EN|
    +-----+---+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    9|R/W|XIP_AES_STREAM_EN|Transfer mode in noraml mode use AES STREAM or not, to avoid Read synchronous issue when in AUTO mode - 1'b0: AES_STREAM_DIS - 1'b1: AES_STREAM_EN                                 |
    +-----+---+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |11:10|R  |RESERVED2        |-                                                                                                                                                                                  |
    +-----+---+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |   12|R/W|XIP_HALTED       |Halted XIP refill when in XIP, XIP refill will wait SW unlock this bit.  - 1'b0: XIP_RUNNING - 1'b1: XIP_HALTED                                                                    |
    +-----+---+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _udma_hyper_TRANS_ADDR:

TRANS_ADDR
""""""""""

Configure each transaction addr

.. table:: 

    +-----+---+----+----------------------------------------+
    |Bit #|R/W|Name|              Description               |
    +=====+===+====+========================================+
    |31:0 |R/W|ADDR|Transfer addr, only when MODE is in AUTO|
    +-----+---+----+----------------------------------------+

.. _udma_hyper_TRANS_SIZE:

TRANS_SIZE
""""""""""

Configure each transaction size

.. table:: 

    +-----+---+----+-------------+
    |Bit #|R/W|Name| Description |
    +=====+===+====+=============+
    |20:0 |R/W|SIZE|Transfer Size|
    +-----+---+----+-------------+

.. _udma_hyper_TRANS_CFG:

TRANS_CFG
"""""""""

Start  each transaction rx/tx

.. table:: 

    +-----+---+-----+---------------------------------------------------------------------------+
    |Bit #|R/W|Name |                                Description                                |
    +=====+===+=====+===========================================================================+
    |    0|R/W|RXTX |Transfer type - 1'b0: TX - 1'b1: RX                                        |
    +-----+---+-----+---------------------------------------------------------------------------+
    |    1|W  |VALID|Transfer valid to start, always read 0 - 1'b0: clear transfer - 1'b1: Start|
    +-----+---+-----+---------------------------------------------------------------------------+

.. _udma_hyper_OSPI_CMD_XIP:

OSPI_CMD_XIP
""""""""""""

OSPI XIP command and psram command config

.. table:: 

    +-----+---+-----------------+-----------------------+
    |Bit #|R/W|      Name       |      Description      |
    +=====+===+=================+=======================+
    |15:0 |R/W|CMD              |2 Bytes SPI command    |
    +-----+---+-----------------+-----------------------+
    |22:20|R/W|SDIO_CMD_RSP_TYPE|SDIO CMD response type |
    +-----+---+-----------------+-----------------------+
    |29:24|R/W|SDIO_CMD_OP      |SDIO CMD operation code|
    +-----+---+-----------------+-----------------------+

.. _udma_hyper_OSPI_CFG_XIP:

OSPI_CFG_XIP
""""""""""""

OSPI XIP configuration

.. table:: 

    +-----+---+------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W|    Name    |                                                                                  Description                                                                                  |
    +=====+===+============+===============================================================================================================================================================================+
    |1:0  |R/W|CMD_SIZE    |Octo SPI command size :  - 2’b0: 0 byte -  2'b1: 1 byte -  2'b2: 2 byte                                                                                                        |
    +-----+---+------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |6:4  |R/W|ADDR_SIZE   |Octo SPI address size :  - 3'b000: 0 byte (Jump ADDRESS stage) -  3'b001: 1 byte -  3'b010: 2 byte -  3'b011: 3 byte -  3'b100: 4 byte                                         |
    +-----+---+------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |9:8  |R/W|LINE        |Octo SPI line number for Single SPI or Octo SPI:  - 2'b00: 8 line for Octo SPI -  2'b01: 4 line for QUAD SPI (sdio{3:0]) -  2'b10: 1 line for Single SPI (SI : dq[0] SO: dq[1])|
    +-----+---+------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |12   |R/W|CMD_DTR_STR |Octo SPI command ddr mode or single mode :  - 1'b0: DTR mode -  1'b1: STR mode                                                                                                 |
    +-----+---+------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |13   |R/W|ADDR_DTR_STR|Octo SPI address ddr mode or single mode :  - 1'b0: DTR mode -  1'b1: STR mode                                                                                                 |
    +-----+---+------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |14   |R/W|DATA_DTR_STR|Octo SPI data ddr mode or single mode :  - 1'b0: DTR mode -  1'b1: STR mode                                                                                                    |
    +-----+---+------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |15   |R/W|DATA_DTR_MSB|Octo SPI data ddr mode data MSB:  - 1'b0: LSB -  1'b1: MSB                                                                                                                     |
    +-----+---+------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _udma_hyper_EXT_ADDR:

EXT_ADDR
""""""""

Memory access address register.

.. table:: 

    +-----+---+----------+-------------------------------+
    |Bit #|R/W|   Name   |          Description          |
    +=====+===+==========+===============================+
    |30:0 |R/W|SADDR     |Memory access address bitfield.|
    +-----+---+----------+-------------------------------+
    |31   |R/W|REG_ACCESS|Register access flag bitfield. |
    +-----+---+----------+-------------------------------+

.. _udma_hyper_TIMING_CFG:

TIMING_CFG
""""""""""

HYPERBUS and Octo SPI Memory Timing configuration register.

.. table:: 

    +-----+---+-------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W|             Name              |                                                                                                                                                                                              Description                                                                                                                                                                                               |
    +=====+===+===============================+========================================================================================================================================================================================================================================================================================================================================================================================================+
    |4:0  |R/W|LATENCY0                       |Latency Cycle value for both HyperRAM and HyperFLASH for chip select 0. When using HyperRAM memory, this bit should be set to the same value as the read latency in configuration register of HyperRAM memory the read latency in configuration register of HyperRAM memory. For SPI, is the dummy cycle after ADDRESS stage : - 5'b00000: 0 CK - 5'b00001: 1 CK - 5'b000001: 2 CK ... - 5'b11111: 31 CK|
    +-----+---+-------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |9:5  |R/W|LATENCY1                       |Latency Cycle value for both HyperRAM and HyperFLASH for chip select 1. When using HyperRAM memory, this bit should be set to the same value as the read latency in configuration register of HyperRAM memory the read latency in configuration register of HyperRAM memory. For SPI, is the dummy cycle after ADDRESS stage : - 5'b00000: 0 CK - 5'b00001: 1 CK - 5'b000001: 2 CK ... - 5'b11111: 31 CK|
    +-----+---+-------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |13:10|R/W|RW_RECOVERY                    |Some HyperBus devices may require a minimum time between the end of a prior transaction and the start of a new access. This time is referred to as Read-Write-Recovery time (tRWR). The master interface must start driving CS# Low only at a time when the CA1 transfer will complete after tRWR is satisfied. - 5'b00000: 0 CK - 5'b00001: 1 CK - 5'b000001: 2 CK ... - 5'b11111: 31 CK               |
    +-----+---+-------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |16:14|R/W|RWDS_DELAY                     |Delay of RWDS for center aligned read: - 3'b000: 0 logic delay - 3'b001: 1 logic delay - 3'b010: 2 logic delay … - 3'b111: 7 logic delay                                                                                                                                                                                                                                                                |
    +-----+---+-------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |17   |R/W|ADDITIONAL_LATENCY_AUTOCHECK_EN|Auto check for RWDS high or low for additional latency : - 1'b0: additional latency no autocheck - 1'b1: additional latency autocheck                                                                                                                                                                                                                                                                   |
    +-----+---+-------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |31:18|R/W|CS_MAX                         |Maximum chip select low time for self-refresh HYPERRAM to valid the data transfer : - 14'h0000: 1 CK - 14'h0001: 2 CK - 14'h0011: 3 CK - … - 14'h3FFF: 16383 CK                                                                                                                                                                                                                                         |
    +-----+---+-------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _udma_hyper_MBA0:

MBA0
""""

Device start address register.

.. table:: 

    +-----+---+--------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W|  Name  |                                                                                                                                                                                                                        Description                                                                                                                                                                                                                         |
    +=====+===+========+============================================================================================================================================================================================================================================================================================================================================================================================================================================================+
    |23:0 |R  |reserved|-                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
    +-----+---+--------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |30:24|R/W|MBA0    |Memory Base Address 0 for both RAM and FLASH bitfield. The base address of addressable region to each memory is set up. Since register can be set in 16M bytes boundary, lower 24 bit is fixed to 0. MBA0 can be greater than MBA1, the chip select which decided by the relationship among MBA0, MBA1, and EXT_ADDR.  - MBA0 &lt; MBA1, if (MBA1 &lt;= EXT_ADDR) CS1 = 0;  else CS0 = 0; - MBA0 &gt; MBA1, if (MBA0 &lt;= EXT_ADDR) CS0 = 0;  else CS1 = 0;|
    +-----+---+--------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _udma_hyper_MBA1:

MBA1
""""

Device start address register.

.. table:: 

    +-----+---+--------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W|  Name  |                                                                                                                                                                                                                          Description                                                                                                                                                                                                                          |
    +=====+===+========+===============================================================================================================================================================================================================================================================================================================================================================================================================================================================+
    |23:0 |R  |reserved|-                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
    +-----+---+--------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |30:24|R/W|MBA1    |Memory Base Address  for both RAM and FLASH bitfield. The base address of addressable region to each memory is set up. Since register can be set in 16M bytes boundary, lower 24 bit is fixed to 0. MBA0 can be greater than MBA1, the chip select which decided by the relationship among MBA0, MBA1, and EXT_ADDR.  - MBA0 &lt; MBA1, if (MBA1 &lt;= EXT_ADDR) CSn1 = 0;  else CSn0 = 0; - MBA0 &gt; MBA1, if (MBA0 &lt;= EXT_ADDR) CSn0 = 0;  else CSn1 = 0;|
    +-----+---+--------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _udma_hyper_DEVICE:

DEVICE
""""""

Device type register(RAM or FLASH).

.. table:: 

    +-----+---+----+------------------------------------------------------------+
    |Bit #|R/W|Name|                        Description                         |
    +=====+===+====+============================================================+
    |    0|R/W|TYPE|Device type : - 1'b00: Octo/ Single SPI - 1'b01: HYPERBUS   |
    +-----+---+----+------------------------------------------------------------+
    |    1|R/W|DT0 |When in HYPERBUS mode :  - 1'b0: HYPERRAM -  1'b1: HYPERLASH|
    +-----+---+----+------------------------------------------------------------+
    |    2|R/W|DT1 |When in HYPERBUS mode :  - 1'b0: HYPERRAM -  1'b1: HYPERLASH|
    +-----+---+----+------------------------------------------------------------+
    |    3|R/W|SDIO|SDIO mode                                                   |
    +-----+---+----+------------------------------------------------------------+

.. _udma_hyper_OSPI_CMD:

OSPI_CMD
""""""""

OSPI command and psram command config

.. table:: 

    +-----+---+-----------------+-----------------------+
    |Bit #|R/W|      Name       |      Description      |
    +=====+===+=================+=======================+
    |15:0 |R/W|CMD              |2 Bytes SPI command    |
    +-----+---+-----------------+-----------------------+
    |22:20|R/W|SDIO_CMD_RSP_TYPE|SDIO CMD response type |
    +-----+---+-----------------+-----------------------+
    |29:24|R/W|SDIO_CMD_OP      |SDIO CMD operation code|
    +-----+---+-----------------+-----------------------+

.. _udma_hyper_OSPI_ALTER:

OSPI_ALTER
""""""""""

OSPI alternative 2 bytes

.. table:: 

    +-----+---+-----+-----------------------+
    |Bit #|R/W|Name |      Description      |
    +=====+===+=====+=======================+
    |15:0 |R/W|MODE0|2 Bytes SPI alternative|
    +-----+---+-----+-----------------------+
    |31:16|R/W|MODE1|2 Bytes SPI alternative|
    +-----+---+-----+-----------------------+

.. _udma_hyper_OSPI_CFG:

OSPI_CFG
""""""""

OSPI configuration

.. table:: 

    +-----+---+------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W|    Name    |                                                                                  Description                                                                                  |
    +=====+===+============+===============================================================================================================================================================================+
    |1:0  |R/W|CMD_SIZE    |Octo SPI command size :  - 2’b0: 0 byte -  2'b1: 1 byte -  2'b2: 2 byte                                                                                                        |
    +-----+---+------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |6:4  |R/W|ADDR_SIZE   |Octo SPI address size :  - 3'b000: 0 byte (Jump ADDRESS stage) -  3'b001: 1 byte -  3'b010: 2 byte -  3'b011: 3 byte -  3'b100: 4 byte                                         |
    +-----+---+------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |9:8  |R/W|LINE        |Octo SPI line number for Single SPI or Octo SPI:  - 2'b00: 8 line for Octo SPI -  2'b01: 4 line for QUAD SPI (sdio{3:0]) -  2'b10: 1 line for Single SPI (SI : dq[0] SO: dq[1])|
    +-----+---+------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |12   |R/W|CMD_DTR_STR |Octo SPI command ddr mode or single mode :  - 1'b0: DTR mode -  1'b1: STR mode                                                                                                 |
    +-----+---+------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |13   |R/W|ADDR_DTR_STR|Octo SPI address ddr mode or single mode :  - 1'b0: DTR mode -  1'b1: STR mode                                                                                                 |
    +-----+---+------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |14   |R/W|DATA_DTR_STR|Octo SPI data ddr mode or single mode :  - 1'b0: DTR mode -  1'b1: STR mode                                                                                                    |
    +-----+---+------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |15   |R/W|DATA_DTR_MSB|Octo SPI data ddr mode data MSB:  - 1'b0: LSB -  1'b1: MSB                                                                                                                     |
    +-----+---+------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _udma_hyper_OSPI_CSN:

OSPI_CSN
""""""""

OSPI chip select configuration

.. table:: 

    +-----+---+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W|       Name       |                                                                            Description                                                                             |
    +=====+===+==================+====================================================================================================================================================================+
    |    0|R/W|INDEX             |Octo SPI chip select index controlled by user  :  - 1'b0: CSN0 -  1'b1: CSN1                                                                                        |
    +-----+---+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    1|R/W|AUTO_EN           |Octo SPI chip select controlled by IP automatically  :  - 1'b0: IP control CSN according to index -  1'b1: : IP control CSN according to address range automatically|
    +-----+---+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    2|R  |SET_CSN_VALID     |-                                                                                                                                                                   |
    +-----+---+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    3|R/W|POLARITY          |Octo SPI chip select polarity : 0 - csn is active low, 1 - csn is active high                                                                                       |
    +-----+---+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    4|R/W|DIRECT_CTRL       |Octo SPI chip select controlled by user enable GPIO mode :  - 1'b0: IP control CSN according to index -  1'b1: USER control CSN in GPIO mode                        |
    +-----+---+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    5|R/W|VALUE             |Octo SPI chip select value controlled by user  :  - 1'b0: HIGH -  1'b1: : Low                                                                                       |
    +-----+---+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    6|R/W|SDIO_DATA_QUAD    |SDIO data quad enable  :  - 1'b0: Disable -  1'b1: : Enable                                                                                                         |
    +-----+---+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    7|R/W|SDIO_DATA_QUAD_DDR|SDIO data quad ddr enable  :  - 1'b0: Disable -  1'b1: : Enable                                                                                                     |
    +-----+---+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |15:8 |R/W|SDIO_BLOCK_NUM    |SDIO data block number                                                                                                                                              |
    +-----+---+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |25:16|R/W|SDIO_BLOCK_SIZE   |SDIO data block size                                                                                                                                                |
    +-----+---+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |   26|R/W|SDIO_AUTO_STOP    |SDIO enable HW auto stop  after multiple read and write :  - 1'b0: Disable -  1'b1: : Enable                                                                        |
    +-----+---+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _udma_hyper_OSPI_JEDEC_RESET:

OSPI_JEDEC_RESET
""""""""""""""""

OSPI JEDEC Hardware Reset, user can control sdo0 manually

.. table:: 

    +-----+---+--------------------+--------------------------------------------------------------------------------------------------+
    |Bit #|R/W|        Name        |                                           Description                                            |
    +=====+===+====================+==================================================================================================+
    |    0|R/W|USER_CTRL_SDO0_EN   |Octo SPI chip in JEDEC reset mode enable :  - 1'b0: JEDEC reset disable -  1'b1: USER control sdo0|
    +-----+---+--------------------+--------------------------------------------------------------------------------------------------+
    |    1|R/W|USER_CTRL_SDO0_VALUE|Octo SPI chip in JEDEC reset mode, sdo0 value                                                     |
    +-----+---+--------------------+--------------------------------------------------------------------------------------------------+

.. _udma_hyper_OSPI_RAM_OPT:

OSPI_RAM_OPT
""""""""""""

OSPI RAM DATA transfer optimisation, only in auto mode

.. table:: 

    +-----+---+--------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W|           Name           |                                                                                                           Description                                                                                                            |
    +=====+===+==========================+==================================================================================================================================================================================================================================+
    |1:0  |R/W|OPT_READ_EN_CS            |Octo SPI RAM optimisation read enable for CS 0, special when no accross boundary rwds latency for each channel :  - 1'b0: disable -  1'b1: enable                                                                                 |
    +-----+---+--------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |3:2  |R/W|REAL_ADDR_EN              |Octo SPI or single SPI which use real address instead of address/2 for each channel :  - 1'b0: disable -  1'b1: enable                                                                                                            |
    +-----+---+--------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |5:4  |R/W|PSRAM_READ_BIT            |PSRAM CMD automatically reform - CMD bit[47] R/W# - Read is 1 or 0 for each channel                                                                                                                                               |
    +-----+---+--------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |7:6  |R/W|PSRAM_CMD_EN              |PSRAM CMD automatically reform enable for each channel                                                                                                                                                                            |
    +-----+---+--------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |9:8  |R/W|PSRAM_ADDR_EVEN           |PSRAM even address reform for each channel                                                                                                                                                                                        |
    +-----+---+--------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |11:10|R/W|PSRAM_CROSS_BOUNDARY_EN0  |PSRAM cross boundary access (CBD) optimisation R/W enable for channle CS0 :  2'b00: Both read write can CBD - 2'b01: read can not CBD, write can CBD - 2'b10: read can CBD, write can not CBD - 2'b11: Both read write can not CBD|
    +-----+---+--------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |13:12|R/W|PSRAM_CROSS_BOUNDARY_EN1  |PSRAM cross boundary access (CBD) optimisation R/W enable for channle CS0 :  2'b00: Both read write can CBD - 2'b01: read can not CBD, write can CBD - 2'b10: read can CBD, write can not CBD - 2'b11: Both read write can not CBD|
    +-----+---+--------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |15:14|R/W|PSRAM_CROSS_BOUNDARY_PAGE0|PSRAM cross boundary access optimisation page for channle CS0 :  - 2'b00: 256B - 2'b01: 512B - 2'b10: 1KB - 2'b11: 2KB                                                                                                            |
    +-----+---+--------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |17:16|R/W|PSRAM_CROSS_BOUNDARY_PAGE1|PSRAM cross boundary access optimisation page for channle CS1 :  - 2'b00: 256B - 2'b01: 512B - 2'b10: 1KB - 2'b11: 2KB                                                                                                            |
    +-----+---+--------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _udma_hyper_OSPI_ALTER_XIP:

OSPI_ALTER_XIP
""""""""""""""

OSPI XIP alternative 2 bytes

.. table:: 

    +-----+---+-----+-----------------------+
    |Bit #|R/W|Name |      Description      |
    +=====+===+=====+=======================+
    |15:0 |R/W|MODE0|2 Bytes SPI alternative|
    +-----+---+-----+-----------------------+
    |31:16|R/W|MODE1|2 Bytes SPI alternative|
    +-----+---+-----+-----------------------+

.. _udma_hyper_OSPI_REG_XIP:

OSPI_REG_XIP
""""""""""""

OSPI XIP other configuration

.. table:: 

    +-----+---+------------+--------------------+
    |Bit #|R/W|    Name    |    Description     |
    +=====+===+============+====================+
    |4:0  |R/W|XIP_LATENCY0|XIP latency0 for cs0|
    +-----+---+------------+--------------------+
    |9:5  |R/W|XIP_LATENCY1|XIP latency1 for cs1|
    +-----+---+------------+--------------------+

.. _udma_hyper_LINE_2D:

LINE_2D
"""""""

OSPI 2D line.

.. table:: 

    +-----+---+----+--------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W|Name|                                                 Description                                                  |
    +=====+===+====+==============================================================================================================+
    |20:0 |R/W|LINE|OSPI 2D line with 2D mode. For example, ADDR = START_ADDR + i * BURST_STRIDE. Normally, LINE &gt;= BURST_SIZE.|
    +-----+---+----+--------------------------------------------------------------------------------------------------------------+

.. _udma_hyper_STRIDE_2D:

STRIDE_2D
"""""""""

OSPI 2D stride.

.. table:: 

    +-----+---+------+------------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W| Name |                                                   Description                                                    |
    +=====+===+======+==================================================================================================================+
    |20:0 |R/W|STRIDE|OSPI 2D stride with 2D mode. For example, ADDR = START_ADDR + i * BURST_STRIDE. Normally, STRIDE &gt;= BURST_SIZE.|
    +-----+---+------+------------------------------------------------------------------------------------------------------------------+

.. _udma_hyper_BURST_ENABLE:

BURST_ENABLE
""""""""""""

OSPI burst mode/2D mode enable.

.. table:: 

    +-----+---+------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W|          Name          |                                                                      Description                                                                      |
    +=====+===+========================+=======================================================================================================================================================+
    |    0|R/W|CS0_AUTO_BURST_ENABLE   |Automatically control Maximum chip select low time for self-refresh HYPERRAM to valid the data transfer for channel 0 : - 1'b0 disable    - 1'b1 Enable|
    +-----+---+------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    1|R/W|CS1_AUTO_BURST_ENABLE   |Automatically control Maximum chip select low time for self-refresh HYPERRAM to valid the data transfer for channel 1 : - 1'b0 disable    - 1'b1 Enable|
    +-----+---+------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    2|R/W|CS0_MAXIMUM_CHECK_ENABLE|Enable Maximum chip select low time for self-refresh HYPERRAM for channel 0:  - 1'b0: disable -  1'b1: enable                                          |
    +-----+---+------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    3|R/W|CS1_MAXIMUM_CHECK_ENABLE|Enable Maximum chip select low time for self-refresh HYPERRAM for channel 1 :  - 1'b0: disable -  1'b1: enable                                         |
    +-----+---+------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------+
    |5:4  |R/W|QSPI_2D_ENABLE          |OSPI burst 2D mode enable for normal mode and XIP :  - 1'b0: BURST 2D mode disable -  1'b1: BURST 2D mode disable                                      |
    +-----+---+------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------+
    |7:6  |R/W|L2_2D_MODE              |2D tansfer mode from L2 to external memory config :  - 2'b00: 1D_TO_1D - 2'b01: 1D_TO_2D - 2'b10: 2D_TO_1D - 2'b11: 2D_TO_2D                           |
    +-----+---+------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _udma_hyper_IRQ_EN:

IRQ_EN
""""""

OSPI interrupt enable register

.. table:: 

    +-----+---+------+------------------------------------------------------------------------------------------------+
    |Bit #|R/W| Name |                                          Description                                           |
    +=====+===+======+================================================================================================+
    |    0|R/W|EN    |Octo SPI interrupt enable control :  - 1'b0: interrupt disable -  1'b1: Interrupt enable        |
    +-----+---+------+------------------------------------------------------------------------------------------------+
    |    1|R/W|XIP_EN|Octo SPI interrupt enable control for XIP :  - 1'b0: interrupt disable -  1'b1: Interrupt enable|
    +-----+---+------+------------------------------------------------------------------------------------------------+

.. _udma_hyper_CLK_DIV:

CLK_DIV
"""""""

Clock divide.

.. table:: 

    +-----+---+-----+-----------------------------------------------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W|Name |                                                                     Description                                                                     |
    +=====+===+=====+=====================================================================================================================================================+
    |7:0  |R/W|DATA |Clock divide data, form 0 – 255, frequency divide table is : -8’h0 – IO_FREQUENCY / 1 -8’h1 – IO_FREQUENCY / 2 -8’h2 – IO_FREQUENCY / 4 …            |
    +-----+---+-----+-----------------------------------------------------------------------------------------------------------------------------------------------------+
    |8    |W  |VALID|Clock divide valid, user can not control. Every time there is clock divide write access, set 1 by default, then when clock divide is finished, set 0.|
    +-----+---+-----+-----------------------------------------------------------------------------------------------------------------------------------------------------+

.. _udma_hyper_STATUS:

STATUS
""""""

Transfer status for error.

.. table:: 

    +-----+---+-----------------+---------------------------------------------------------------------------------------------------+
    |Bit #|R/W|      Name       |                                            Description                                            |
    +=====+===+=================+===================================================================================================+
    |    0|R  |TX_ERROR         |TX transfer error because of tcsm, write 1 to clear: - 1'b0: no error - 1'b1: error                |
    +-----+---+-----------------+---------------------------------------------------------------------------------------------------+
    |    1|R  |RX_ERROR         |RX transfer error because of tcsm, write 1 to clear: - 1'b0: no error - 1'b1: error                |
    +-----+---+-----------------+---------------------------------------------------------------------------------------------------+
    |    2|R  |RX_TX_END        |RX TX transfer end flag, can be polling by user, write 1 to clear: - 1'b0: not end - 1'b1: end     |
    +-----+---+-----------------+---------------------------------------------------------------------------------------------------+
    |    3|R  |SDIO_RX_TX_ERROR |SDIO RX TX transfer error because of tcsm, write 1 to clear: - 1'b0: no error - 1'b1: error        |
    +-----+---+-----------------+---------------------------------------------------------------------------------------------------+
    |    4|R  |SDIO_RX_TX_END   |SDIO RX TX transfer end flag, can be polling by user, write 1 to clear: - 1'b0: not end - 1'b1: end|
    +-----+---+-----------------+---------------------------------------------------------------------------------------------------+
    |15:5 |R  |reserved         |-                                                                                                  |
    +-----+---+-----------------+---------------------------------------------------------------------------------------------------+
    |31:16|R  |SDIO_ERROR_STATUS|SDIO error status flag, indicate the error type                                                    |
    +-----+---+-----------------+---------------------------------------------------------------------------------------------------+

.. _udma_hyper_SDIO_CMD_ARG:

SDIO_CMD_ARG
""""""""""""

SDIO command argument.

.. table:: 

    +-----+---+----+---------------------+
    |Bit #|R/W|Name|     Description     |
    +=====+===+====+=====================+
    |31:0 |R/W|ARG |SDIO command argument|
    +-----+---+----+---------------------+

.. _udma_hyper_SDIO_RSP0:

SDIO_RSP0
"""""""""

SDIO response 0.

.. table:: 

    +-----+---+----+---------------+
    |Bit #|R/W|Name|  Description  |
    +=====+===+====+===============+
    |31:0 |R  |RSP0|SDIO response 0|
    +-----+---+----+---------------+

.. _udma_hyper_SDIO_RSP1:

SDIO_RSP1
"""""""""

SDIO response 1.

.. table:: 

    +-----+---+----+---------------+
    |Bit #|R/W|Name|  Description  |
    +=====+===+====+===============+
    |31:0 |R  |RSP1|SDIO response 1|
    +-----+---+----+---------------+

.. _udma_hyper_SDIO_RSP2:

SDIO_RSP2
"""""""""

SDIO response 2.

.. table:: 

    +-----+---+----+---------------+
    |Bit #|R/W|Name|  Description  |
    +=====+===+====+===============+
    |31:0 |R  |RSP2|SDIO response 2|
    +-----+---+----+---------------+

.. _udma_hyper_SDIO_RSP3:

SDIO_RSP3
"""""""""

SDIO response 3.

.. table:: 

    +-----+---+----+---------------+
    |Bit #|R/W|Name|  Description  |
    +=====+===+====+===============+
    |31:0 |R  |RSP3|SDIO response 3|
    +-----+---+----+---------------+
