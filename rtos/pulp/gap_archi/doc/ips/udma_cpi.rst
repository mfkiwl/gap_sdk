Input file: fe/ips/udma/udma_camera/doc/CAM_CPI_reference.md

Register map
^^^^^^^^^^^^


Overview
""""""""

.. table:: 

    +------------------------------------------------------+------+-----+--------------------------------------------------------+
    |                         Name                         |Offset|Width|                      Description                       |
    +======================================================+======+=====+========================================================+
    |:ref:`CAM_RX_DEST<udma_cpi_CAM_RX_DEST>`              |     0|   32|Stream ID for the uDMA channel                          |
    +------------------------------------------------------+------+-----+--------------------------------------------------------+
    |:ref:`CAM_RX_DATASIZE<udma_cpi_CAM_RX_DATASIZE>`      |     4|   32|Transfer datasize 00: 8bit 01: 16bit 10: 24bit 11: 32bit|
    +------------------------------------------------------+------+-----+--------------------------------------------------------+
    |:ref:`CAM_CFG_GLOB<udma_cpi_CAM_CFG_GLOB>`            |    32|   32|Global configuration register                           |
    +------------------------------------------------------+------+-----+--------------------------------------------------------+
    |:ref:`CAM_CFG_LL<udma_cpi_CAM_CFG_LL>`                |    36|   32|Lower Left corner configuration register                |
    +------------------------------------------------------+------+-----+--------------------------------------------------------+
    |:ref:`CAM_CFG_UR<udma_cpi_CAM_CFG_UR>`                |    40|   32|Upper Right corner configuration register               |
    +------------------------------------------------------+------+-----+--------------------------------------------------------+
    |:ref:`CAM_CFG_SIZE<udma_cpi_CAM_CFG_SIZE>`            |    44|   32|Horizontal Resolution configuration register            |
    +------------------------------------------------------+------+-----+--------------------------------------------------------+
    |:ref:`CAM_CFG_RGB<udma_cpi_CAM_CFG_RGB>`              |    48|   32|RGB coefficients configuration register                 |
    +------------------------------------------------------+------+-----+--------------------------------------------------------+
    |:ref:`CAM_VSYNC_POLARITY<udma_cpi_CAM_VSYNC_POLARITY>`|    52|   32|VSYNC Polarity register                                 |
    +------------------------------------------------------+------+-----+--------------------------------------------------------+

.. _udma_cpi_CAM_RX_DEST:

CAM_RX_DEST
"""""""""""

Stream ID for the uDMA channel

.. table:: 

    +-----+---+-------+-----------------------------------------------------------------+
    |Bit #|R/W| Name  |                           Description                           |
    +=====+===+=======+=================================================================+
    |6:0  |R/W|RX_DEST|Stream ID for the uDMA channel. Default is 0x7F(channel disabled)|
    +-----+---+-------+-----------------------------------------------------------------+

.. _udma_cpi_CAM_RX_DATASIZE:

CAM_RX_DATASIZE
"""""""""""""""

Transfer datasize 00: 8bit 01: 16bit 10: 24bit 11: 32bit

.. table:: 

    +-----+---+-----------+--------------------------------------------------------+
    |Bit #|R/W|   Name    |                      Description                       |
    +=====+===+===========+========================================================+
    |1:0  |R/W|RX_DATASIZE|Transfer datasize 00: 8bit 01: 16bit 10: 24bit 11: 32bit|
    +-----+---+-----------+--------------------------------------------------------+

.. _udma_cpi_CAM_CFG_GLOB:

CAM_CFG_GLOB
""""""""""""

Global configuration register

.. table:: 

    +-----+---+-------------+---------------------------------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W|    Name     |                                                              Description                                                              |
    +=====+===+=============+=======================================================================================================================================+
    |    0|R/W|FRAMEDROP_EN |Frame dropping: - 1'b0: disable - 1'b1: enable                                                                                         |
    +-----+---+-------------+---------------------------------------------------------------------------------------------------------------------------------------+
    |6:1  |R/W|FRAMEDROP_VAL|Sets how many frames should be dropped after each received.                                                                            |
    +-----+---+-------------+---------------------------------------------------------------------------------------------------------------------------------------+
    |    7|R/W|FRAMESLICE_EN|Input frame slicing: - 1'b0: disable - 1'b1: enable                                                                                    |
    +-----+---+-------------+---------------------------------------------------------------------------------------------------------------------------------------+
    |10:8 |R/W|FORMAT       |Input frame format: - 3'b000: RGB565 - 3'b001: RGB555 - 3'b010: RGB444 - 3'b011: RGB888 - 3'b100: BYPASS_LITEND - 3'b101: BYPASS_BIGEND|
    +-----+---+-------------+---------------------------------------------------------------------------------------------------------------------------------------+
    |   31|R/W|EN           |Enable data rx from camera interface.  The enable/disable happens only at the start of a frame. - 1'b0: disable - 1'b1: enable         |
    +-----+---+-------------+---------------------------------------------------------------------------------------------------------------------------------------+

.. _udma_cpi_CAM_CFG_LL:

CAM_CFG_LL
""""""""""

Lower Left corner configuration register

.. table:: 

    +-----+---+--------------+------------------------------------------+
    |Bit #|R/W|     Name     |               Description                |
    +=====+===+==============+==========================================+
    |15:0 |R/W|FRAMESLICE_LLX|X coordinate of lower left corner of slice|
    +-----+---+--------------+------------------------------------------+
    |31:16|R/W|FRAMESLICE_LLY|Y coordinate of lower left corner of slice|
    +-----+---+--------------+------------------------------------------+

.. _udma_cpi_CAM_CFG_UR:

CAM_CFG_UR
""""""""""

Upper Right corner configuration register

.. table:: 

    +-----+---+--------------+-------------------------------------------+
    |Bit #|R/W|     Name     |                Description                |
    +=====+===+==============+===========================================+
    |15:0 |R/W|FRAMESLICE_URX|X coordinate of upper right corner of slice|
    +-----+---+--------------+-------------------------------------------+
    |31:16|R/W|FRAMESLICE_URY|Y coordinate of upper right corner of slice|
    +-----+---+--------------+-------------------------------------------+

.. _udma_cpi_CAM_CFG_SIZE:

CAM_CFG_SIZE
""""""""""""

Horizontal Resolution configuration register

.. table:: 

    +-----+---+------+----------------------------------------------------------------------------------------------------------+
    |Bit #|R/W| Name |                                               Description                                                |
    +=====+===+======+==========================================================================================================+
    |15:0 |R/W|ROWLEN|Horizontal Resolution. It is used for slice mode. Value set into the bitfield must be equal to (rowlen-1).|
    +-----+---+------+----------------------------------------------------------------------------------------------------------+

.. _udma_cpi_CAM_CFG_RGB:

CAM_CFG_RGB
"""""""""""

RGB coefficients configuration register

.. table:: 

    +-----+---+------+---------------------------------------------------------------------------------------+
    |Bit #|R/W| Name |                                      Description                                      |
    +=====+===+======+=======================================================================================+
    |2:0  |R/W|FORMAT|3'h0 - RGB, 3'h1 - RBG, 3'h2 - GRB, 3'h3 - GBR, 3'h4 - BRG, 3'h5 - BGR, 3'h6 3'h7 - RGB|
    +-----+---+------+---------------------------------------------------------------------------------------+

.. _udma_cpi_CAM_VSYNC_POLARITY:

CAM_VSYNC_POLARITY
""""""""""""""""""

VSYNC Polarity register

.. table:: 

    +-----+---+--------------+------------------------------------------------------------+
    |Bit #|R/W|     Name     |                        Description                         |
    +=====+===+==============+============================================================+
    |    0|R/W|VSYNC_POLARITY|Set vsync polarity of CPI. - 1'b0: Active 0 - 1'b1: Active 1|
    +-----+---+--------------+------------------------------------------------------------+
    |    1|R/W|HSYNC_POLARITY|Set hsync polarity of CPI. - 1'b0: Active 1 - 1'b1: Active 0|
    +-----+---+--------------+------------------------------------------------------------+
